kind: deployableArchitecture
metadata:
  name: vibe-ide-da
  version: 1.0.2
spec:
  type: terraform
  inputs:
    - name: region
      type: string
      default: us-south
      description: IBM provider region (not COS instance)
    - name: cos_plan
      type: string
      default: lite
      description: COS plan; defaults to lite (per 1A)
    - name: bucket_region
      type: string
      default: us-south
      description: Region for the COS bucket
    - name: bucket_storage_class
      type: string
      default: smart
      description: COS storage class
    - name: initial_html
      type: string
      description: Optional initial HTML to publish as index.html
    # This new variable is recommended but not in your original file.
    # Add this to your inputs list for the "lite plan" workaround:
    - name: existing_cos_instance_id
      type: string
      description: Optional ID of an existing COS instance. If empty, a new 'lite' instance is created.
      default: ""
  outputs:
    - name: primary_output
      description: Public Website URL for Vibe IDE